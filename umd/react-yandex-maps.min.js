!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):"object"==typeof exports?exports.ReactYandexMaps=t(require("react")):e.ReactYandexMaps=t(e.React)}(this,function(e){return function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=13)}([function(t,n){t.exports=e},function(e,t,n){"use strict";t.__esModule=!0;var o=t.GeoObject=Symbol.for("GeoObject"),r=t.Control=Symbol.for("Control"),a=t.Popup=Symbol.for("Popup"),i=t.Map=Symbol.for("Map");t.default={GeoObject:o,Control:r,Popup:a,Map:i}},function(e,t,n){"use strict";function o(e){var t=/^on[A-Z]/,n={},o={};return Object.keys(e).forEach(function(r){t.test(r)?n[r]=e[r]:o[r]=e[r]}),i({events:n},o)}function r(e,t,n){c[t]&&"function"==typeof e&&n.events.add(c[t],e)}function a(e,t,n){c[t]&&"function"==typeof e&&n.events.remove(c[t],e)}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};t.separateEvents=o,t.addEvent=r,t.removeEvent=a;var c=t.events={onBallonClose:"balloonclose",onBalloonOpen:"balloonopen",onBeforeDrag:"beforedrag",onBeforeDragStart:"beforedragstart",onClick:"click",onContextMenu:"contextmenu",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onEditorStateChange:"editorstatechange",onGeometryChange:"geometrychange",onHintClose:"hintclose",onHintOpen:"hintopen",onMapChange:"mapchange",onMouseDown:"mousedown",onMouseEnter:"mouseenter",onMouseLeave:"mouseleave",onMouseMove:"mousemove",onMouseUp:"mouseup",onMultiTouchEnd:"multitouchend",onMultiTouchMove:"multitouchmove",onMultiTouchStart:"multitouchstart",onOptionsChange:"optionschange",onOverlayChange:"overlaychange",onParentChange:"parentchange",onPropertiesChange:"propertieschange",onWheel:"wheel",onBalloonClose:"balloonclose",onActionBegin:"actionbegin",onActionBreak:"actionbreak",onActionEnd:"actionend",onActionTick:"actiontick",onActionTickComplete:"actiontickcomplete",onBoundsChange:"boundschange",onDestroy:"destroy",onMarginChange:"marginchange",onSizeChange:"sizechange",onTypeChange:"typechange",onDeselect:"deselect",onDisable:"disable",onEnable:"enable",onPress:"press",onSelect:"select",onFullscreenEnter:"fullscreenenter",onFullscreenExit:"fullscreenexit",onLocationChange:"locationchange",onClear:"clear",onError:"error",onLoad:"load",onResultSelect:"resultselect",onResultShow:"resultshow",onSubmit:"submit",onCollapse:"collapse",onExpand:"expand",onHideTraffic:"hidetraffic",onProviderKeyChange:"providerkeychange",onShowTraffic:"showtraffic",onAdd:"add",onRemove:"remove"}},function(e,t,n){"use strict";var o=function(e,t,n,o,r,a,i,c){if(!e){var s;if(void 0===t)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,o,r,a,i,c],p=0;s=new Error(t.replace(/%s/g,function(){return u[p++]})),s.name="Invariant Violation"}throw s.framesToPop=1,s}};e.exports=o},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0,t.Control=void 0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},s=n(0),u=o(s),p=n(1),l=n(2),f=(u.default.PropTypes.func,t.Control=function(e){function t(){var n,o,i;r(this,t);for(var c=arguments.length,s=Array(c),u=0;u<c;u++)s[u]=arguments[u];return n=o=a(this,e.call.apply(e,[this].concat(s))),o.state={instance:null},i=n,a(o,i)}return i(t,e),t.prototype.mount=function(){var e=(0,l.separateEvents)(this.props),t=e.ymaps,n=e.type,o=e.collection,r=e.data,a=e.options,i=e.state,c=e.events,s=new t.control[n]({data:r,options:a,state:i});Object.keys(c).forEach(function(e){return(0,l.addEvent)(c[e],e,s)}),o.add(s),this.setState({instance:s})},t.prototype.update=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(arguments.length>2&&void 0!==arguments[2]&&arguments[2],(0,l.separateEvents)(t)),o=n.data,r=n.options,a=n.state,i=n.events,c=(0,l.separateEvents)(this.props),s=c.data,u=c.options,p=c.state,f=c.events;s!==o&&e.data.set(s),u!==r&&e.options.set(u),p!==a&&e.state.set(p),this.updateEvents(e,i,f)},t.prototype.updateEvents=function(e,t,n){var o=c({},t,n);Object.keys(o).forEach(function(o){t[o]!==n[o]&&((0,l.removeEvent)(t[o],o,e),(0,l.addEvent)(n[o],o,e))})},t.prototype.unmount=function(){var e=this.state.instance,t=(0,l.separateEvents)(this.props),n=t.events,o=t.collection;e&&(Object.keys(n).forEach(function(t){return(0,l.removeEvent)(n[t],t,e)}),o.remove(e))},t.prototype.componentDidMount=function(){this.props.ymaps&&this.mount()},t.prototype.componentWillReceiveProps=function(e){var t=this.state.instance;t&&this.update(t,this.props,e)},t.prototype.componentDidUpdate=function(e,t){var n=this.state.instance,o=this.props.instanceRef;t.instance!==n&&o(n?n:null)},t.prototype.componentWillUnmount=function(){this.unmount()},t.prototype.render=function(){return null},t}(u.default.Component));f.defaultProps={instanceRef:Function.prototype},f[p.Control]=!0},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0,t.GeoObject=void 0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},s=n(0),u=o(s),p=n(1),l=n(2),f=u.default.PropTypes,d=(f.object,f.shape,f.oneOf,f.oneOfType,f.number,f.arrayOf,f.func,t.GeoObject=function(e){function t(){var n,o,i;r(this,t);for(var c=arguments.length,s=Array(c),u=0;u<c;u++)s[u]=arguments[u];return n=o=a(this,e.call.apply(e,[this].concat(s))),o.state={instance:null},i=n,a(o,i)}return i(t,e),t.prototype.mount=function(){var e=(0,l.separateEvents)(this.props),t=e.collection,n=e.ymaps,o=e.events,r=e.geometry,a=e.properties,i=e.options,c=new n.GeoObject({geometry:r,properties:a},i);Object.keys(o).forEach(function(e){return(0,l.addEvent)(o[e],e,c)}),t.add(c),this.setState({instance:c})},t.prototype.update=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=(0,l.separateEvents)(t),r=o.geometry,a=o.properties,i=o.options,c=o.events,s=(0,l.separateEvents)(n),u=s.geometry,p=s.properties,f=s.options,d=s.events;u.coordinates!==r.coordinates&&e.geometry.setCoordinates(u.coordinates),u.radius!==r.radius&&e.geometry.setRadius(u.radius),p!==a&&e.properties.set(p),f!==i&&e.options.set(f),this.updateEvents(e,c,d)},t.prototype.updateEvents=function(e,t,n){var o=c({},t,n);Object.keys(o).forEach(function(o){t[o]!==n[o]&&((0,l.removeEvent)(t[o],o,e),(0,l.addEvent)(n[o],o,e))})},t.prototype.unmount=function(){var e=this.state.instance,t=(0,l.separateEvents)(this.props),n=t.events,o=t.collection;e&&(Object.keys(n).forEach(function(t){return(0,l.removeEvent)(n[t],t,e)}),o.remove(e))},t.prototype.componentDidMount=function(){this.props.ymaps&&this.mount()},t.prototype.componentWillReceiveProps=function(e){var t=this.state.instance;t&&this.update(t,this.props,e)},t.prototype.componentDidUpdate=function(e,t){var n=this.state.instance,o=this.props.instanceRef;t.instance!==n&&o(n?n:null)},t.prototype.componentWillUnmount=function(){this.unmount()},t.prototype.render=function(){return null},t}(u.default.Component));d.defaultProps={instanceRef:Function.prototype},d[p.GeoObject]=!0},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0,t.Clusterer=void 0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(0),p=o(u),l=n(3),f=o(l),d=n(1),y=n(2),h=(p.default.PropTypes.func,t.Clusterer=function(e){function t(){var n,o,i;r(this,t);for(var c=arguments.length,s=Array(c),u=0;u<c;u++)s[u]=arguments[u];return n=o=a(this,e.call.apply(e,[this].concat(s))),o.state={instance:null},i=n,a(o,i)}return i(t,e),t.prototype.mount=function(){var e=(0,y.separateEvents)(this.props),t=e.collection,n=e.ymaps,o=e.options,r=e.events,a=new n.Clusterer(o);Object.keys(r).forEach(function(e){return(0,y.addEvent)(r[e],e,a)}),t.add(a),this.setState({instance:a})},t.prototype.update=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(arguments.length>2&&void 0!==arguments[2]&&arguments[2],(0,y.separateEvents)(t)),o=n.options,r=n.events,a=(0,y.separateEvents)(this.props),i=a.options,c=a.events;i!==o&&e.options.set(i),this.updateEvents(e,r,c)},t.prototype.updateEvents=function(e,t,n){var o=c({},t,n);Object.keys(o).forEach(function(o){t[o]!==n[o]&&((0,y.removeEvent)(t[o],o,e),(0,y.addEvent)(n[o],o,e))})},t.prototype.unmount=function(){var e=this.state.instance,t=(0,y.separateEvents)(this.props),n=t.events,o=t.collection;e&&(Object.keys(n).forEach(function(t){return(0,y.removeEvent)(n[t],t,e)}),o.remove(e))},t.prototype.renderGeoObject=function(e){var t=this.context.ymaps,n=this.state.instance.geoObjects;return p.default.cloneElement(e,{ymaps:t,collection:n})},t.prototype.componentDidMount=function(){this.props.ymaps&&this.mount()},t.prototype.componentWillReceiveProps=function(e){var t=this.state.instance;t&&this.update(t,this.props,e)},t.prototype.componentDidUpdate=function(e,t){var n=this.state.instance,o=this.props.instanceRef;t.instance!==n&&o(n?n:null)},t.prototype.componentWillUnmount=function(){this.unmount()},t.prototype.render=function(){return p.default.createElement("noscript",null,this.children)},s(t,[{key:"children",get:function(){var e=this,t=this.props.children;return this.state.instance?p.default.Children.map(t,function(t){return null!=t&&(0,f.default)(!1),t?t.type[d.GeoObject]?e.renderGeoObject(t):void 0:null}):null}}]),t}(p.default.Component));h.defaultProps={instanceRef:Function.prototype},h[d.GeoObject]=!0},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}function a(e){var t=e.geometry,n=r(e,["geometry"]);return j.default.createElement(E.GeoObject,g({geometry:g({type:"Point"},t)},n))}function i(e){var t=e.geometry,n=r(e,["geometry"]);return j.default.createElement(E.GeoObject,g({geometry:g({type:"LineString"},t)},n))}function c(e){var t=e.geometry,n=r(e,["geometry"]);return j.default.createElement(E.GeoObject,g({geometry:g({type:"Rectangle"},t)},n))}function s(e){var t=e.geometry,n=r(e,["geometry"]);return j.default.createElement(E.GeoObject,g({geometry:g({type:"Polygon"},t)},n))}function u(e){var t=e.geometry,n=r(e,["geometry"]);return j.default.createElement(E.GeoObject,g({geometry:g({type:"Circle"},t)},n))}function p(e){return j.default.createElement(C.Control,g({type:"Button"},e))}function l(e){return j.default.createElement(C.Control,g({type:"FullscreenControl"},e))}function f(e){return j.default.createElement(C.Control,g({type:"GeolocationControl"},e))}function d(e){return j.default.createElement(C.Control,g({type:"RouteEditor"},e))}function y(e){return j.default.createElement(C.Control,g({type:"RulerControl"},e))}function h(e){return j.default.createElement(C.Control,g({type:"SearchControl"},e))}function v(e){return j.default.createElement(C.Control,g({type:"TrafficControl"},e))}function m(e){return j.default.createElement(C.Control,g({type:"TypeSelector"},e))}function b(e){return j.default.createElement(C.Control,g({type:"ZoomControl"},e))}t.__esModule=!0;var g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};t.Placemark=a,t.Polyline=i,t.Rectangle=c,t.Polygon=s,t.Circle=u,t.Button=p,t.FullscreenControl=l,t.GeolocationControl=f,t.RouteEditor=d,t.RulerControl=y,t.SearchControl=h,t.TrafficControl=v,t.TypeSelector=m,t.ZoomControl=b;var O=n(0),j=o(O),E=n(5),C=n(4),w=n(1);a[w.GeoObject]=!0,i[w.GeoObject]=!0,c[w.GeoObject]=!0,s[w.GeoObject]=!0,u[w.GeoObject]=!0,p[w.Control]=!0,l[w.Control]=!0,f[w.Control]=!0,d[w.Control]=!0,y[w.Control]=!0,h[w.Control]=!0,v[w.Control]=!0,m[w.Control]=!0,b[w.Control]=!0},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0,t.Map=void 0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(0),p=o(u),l=n(3),f=o(l),d=n(1),y=o(d),h=n(2),v=p.default.PropTypes,m=v.object,b=(v.oneOfType,v.number,v.string,v.func,t.Map=function(e){function t(){r(this,t);for(var n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];var c=a(this,e.call.apply(e,[this].concat(o)));return c.state={instance:null},c.getMapNode=c.getMapNode.bind(c),c}return i(t,e),t.prototype.getMapNode=function(e){this.mapNode=e},t.prototype.mount=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.context.ymaps,t=(0,h.separateEvents)(this.props),n=t.state,o=t.options,r=t.events,a=new e.Map(this.mapNode,n,o);Object.keys(r).forEach(function(e){return(0,h.addEvent)(r[e],e,a)}),this.setState({instance:a})},t.prototype.unmount=function(){var e=this.state.instance,t=(0,h.separateEvents)(this.props),n=t.events;e&&(Object.keys(n).forEach(function(t){return(0,h.removeEvent)(n[t],t,e)}),e.destroy())},t.prototype.update=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=(0,h.separateEvents)(t),r=o.width,a=o.height,i=o.options,c=o.state,s=o.events,u=(0,h.separateEvents)(n),p=u.width,l=u.height,f=u.options,d=u.state,y=u.events;r===p&&a===l||e.container.fitToViewport(),c.type!==d.type&&e.setType(d.type),c.behaviors!==d.behaviors&&(e.behaviors.disable(c.behaviors||[]),e.behaviors.enable(d.behaviors||[])),c.zoom!==d.zoom&&e.setZoom(d.zoom),c.center!==d.center&&e.setCenter(d.center),d.bounds&&c.bounds!==d.bounds&&e.setBounds(d.bounds),i!==f&&e.options.set(f),this.updateEvents(e,s,y)},t.prototype.updateEvents=function(e,t,n){var o=c({},t,n);Object.keys(o).forEach(function(o){t[o]!==n[o]&&((0,h.removeEvent)(t[o],o,e),(0,h.addEvent)(n[o],o,e))})},t.prototype.renderGeoObject=function(e){var t=this.context.ymaps,n=this.state.instance.geoObjects;return p.default.cloneElement(e,{ymaps:t,collection:n})},t.prototype.renderControl=function(e){var t=this.context.ymaps,n=this.state.instance.controls;return p.default.cloneElement(e,{ymaps:t,collection:n})},t.prototype.componentDidMount=function(){this.context.ymaps&&this.mount()},t.prototype.componentDidUpdate=function(e,t){var n=this.context.ymaps,o=this.state.instance,r=this.props.instanceRef;!o&&n&&this.mount(),o&&this.update(o,e,this.props),t.instance!==o&&r(o?o:null)},t.prototype.componentWillUnmount=function(){this.unmount()},t.prototype.render=function(){var e=this.props,t=e.width,n=e.height;return this.context.ymaps&&p.default.createElement("div",{style:{width:"100%",height:"100%"}},this.children,p.default.createElement("div",{style:{width:t,height:n},ref:this.getMapNode}))},s(t,[{key:"children",get:function(){var e=this,t=this.props.children;return this.state.instance?p.default.Children.map(t,function(t){return null==t||t.type[y.default.GeoObject]||t.type[y.default.Control]||(0,f.default)(!1),t?t.type[y.default.GeoObject]?e.renderGeoObject(t):t.type[y.default.Control]?e.renderControl(t):void 0:null}):null}}]),t}(p.default.Component));b.defaultProps={state:{center:[0,0],zoom:1},width:400,height:315,instanceRef:Function.prototype},b.contextTypes={ymaps:m},b[y.default.Map]=!0},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0,t.ObjectManager=void 0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},s=n(0),u=o(s),p=n(1),l=n(2),f=(u.default.PropTypes.func,t.ObjectManager=function(e){function t(){var n,o,i;r(this,t);for(var c=arguments.length,s=Array(c),u=0;u<c;u++)s[u]=arguments[u];return n=o=a(this,e.call.apply(e,[this].concat(s))),o.state={instance:null},i=n,a(o,i)}return i(t,e),t.prototype.mount=function(){var e=(0,l.separateEvents)(this.props),t=e.collection,n=e.ymaps,o=e.features,r=e.filter,a=e.options,i=e.clusters,c=e.objects,s=e.events,u=new n.ObjectManager(a);Object.keys(s).forEach(function(e){return(0,l.addEvent)(s[e],e,u)}),t.add(u),u.add(o||[]),u.setFilter(r),u.clusters.options.set(i||{}),u.objects.options.set(c||{}),this.setState({instance:u})},t.prototype.update=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=(0,l.separateEvents)(t),r=o.filter,a=o.events,i=o.features,c=o.clusters,s=o.objects,u=(0,l.separateEvents)(n),p=u.filter,f=u.events,d=u.features,y=u.clusters,h=u.objects;p!==r&&e.setFilter(p),y!==c&&e.clusters.options.set(y||{}),h!==s&&e.objects.options.set(h||{}),d!==i&&this.updateFeatures(e,i||[],d||[]),this.updateEvents(e,a,f)},t.prototype.updateFeatures=function(e,t,n){var o=t.map(function(e){return e.id}),r=n.map(function(e){return e.id}),a=t.filter(function(e){return r.indexOf(e.id)===-1}),i=n.filter(function(e){return o.indexOf(e.id)===-1});a.length>0&&e.remove(a),i.length>0&&e.add(i)},t.prototype.updateEvents=function(e,t,n){var o=c({},t,n);Object.keys(o).forEach(function(o){t[o]!==n[o]&&((0,l.removeEvent)(t[o],o,e),(0,l.addEvent)(n[o],o,e))})},t.prototype.unmount=function(){var e=this.state.instance,t=(0,l.separateEvents)(this.props),n=t.events,o=t.collection;e&&(Object.keys(n).forEach(function(t){return(0,l.removeEvent)(n[t],t,e)}),o.remove(e))},t.prototype.componentDidMount=function(){this.props.ymaps&&this.mount()},t.prototype.componentWillReceiveProps=function(e){var t=this.state.instance;t&&this.update(t,this.props,e)},t.prototype.componentDidUpdate=function(e,t){var n=this.state.instance,o=this.props.instanceRef;t.instance!==n&&o(n?n:null)},t.prototype.componentWillUnmount=function(){this.unmount()},t.prototype.render=function(){return null},t}(u.default.Component));f.defaultProps={instanceRef:Function.prototype},f[p.GeoObject]=!0},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0,t.YMaps=void 0;var c=n(0),s=o(c),u=n(3),p=o(u),l=n(11),f=o(l),d=s.default.PropTypes,y=(d.node,d.bool,d.shape,d.string,d.oneOf,d.object),h=(d.func,t.YMaps=function(e){function t(){r(this,t);for(var n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];var c=a(this,e.call.apply(e,[this].concat(o)));return c.state={ymaps:null},c}return i(t,e),t.prototype.getChildContext=function(){return{ymaps:this.state.ymaps}},t.prototype.componentDidMount=function(){var e=this,t=this.props,n=t.query,o=t.version,r=t.enterprise,a=t.onApiAvaliable;f.default.get(n,o,r).then(function(t){a(t),e.setState({ymaps:t})})},t.prototype.componentWillMount=function(){var e=this.props.children;null!=e&&1!==s.default.Children.count(e)&&(0,p.default)(!1)},t.prototype.render=function(){var e=this.props.children;return e?s.default.Children.only(e):null},t}(s.default.Component));h.defaultProps={enterprise:!1,onApiAvaliable:Function.prototype,version:"2.1"},h.childContextTypes={ymaps:y}},function(e,t,n){"use strict";(function(e){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){return new Promise(function(t,n){var o=document.createElement("script");o.type="text/javascript",o.onload=t,o.onerror=n,o.src=e,o.async="async",document.head.appendChild(o)})}t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a="__react-yandex-maps-onload",i="__react-yandex-maps-onerror",c={onload:a,onerror:i},s="release",u="__react-yandex-maps-api",p="ru_RU",l=function(){function t(){n(this,t),this.api=e[u]||null,this.promise=null}return t.prototype.getBaseUrl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"2.1";return"https://"+(arguments.length>1&&void 0!==arguments[1]&&arguments[1]?"enterprise.api-maps.yandex.ru":"api-maps.yandex.ru")+"/"+e+"/"},t.prototype.getQuery=function(e){var t=r({ns:u,lang:p,mode:s},e,c);return Object.keys(t).reduce(function(e,n){return void 0===t[n]?e:e.concat(n+"="+t[n])},[]).join("&")},t.prototype.load=function(t,n,r){var c=this;return this.promise?this.promise:(this.promise=new Promise(function(s,u){var p=c.getBaseUrl(n,r),l=c.getQuery(t);e[a]=function(t){s(t),e[a]=null},e[i]=function(t){u(t),e[i]=null},o(p+"?"+l).catch(u)}),this.promise)},t.prototype.get=function(e,t,n){var o=this;return this.api&&Promise.resolve(this.api),this.load(e,t,n).then(function(e){return o.api=e})},t}();t.default=new l}).call(t,n(12))},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";t.__esModule=!0;var o=n(10);Object.defineProperty(t,"YMaps",{enumerable:!0,get:function(){return o.YMaps}});var r=n(8);Object.defineProperty(t,"Map",{enumerable:!0,get:function(){return r.Map}});var a=n(5);Object.defineProperty(t,"GeoObject",{enumerable:!0,get:function(){return a.GeoObject}});var i=n(9);Object.defineProperty(t,"ObjectManager",{enumerable:!0,get:function(){return i.ObjectManager}});var c=n(6);Object.defineProperty(t,"Clusterer",{enumerable:!0,get:function(){return c.Clusterer}});var s=n(4);Object.defineProperty(t,"Control",{enumerable:!0,get:function(){return s.Control}});var u=n(7);Object.defineProperty(t,"Placemark",{enumerable:!0,get:function(){return u.Placemark}}),Object.defineProperty(t,"Polyline",{enumerable:!0,get:function(){return u.Polyline}}),Object.defineProperty(t,"Rectangle",{enumerable:!0,get:function(){return u.Rectangle}}),Object.defineProperty(t,"Polygon",{enumerable:!0,get:function(){return u.Polygon}}),Object.defineProperty(t,"Circle",{enumerable:!0,get:function(){return u.Circle}}),Object.defineProperty(t,"Button",{enumerable:!0,get:function(){return u.Button}}),Object.defineProperty(t,"FullscreenControl",{enumerable:!0,get:function(){return u.FullscreenControl}}),Object.defineProperty(t,"GeolocationControl",{enumerable:!0,get:function(){return u.GeolocationControl}}),Object.defineProperty(t,"RouteEditor",{enumerable:!0,get:function(){return u.RouteEditor}}),Object.defineProperty(t,"RulerControl",{enumerable:!0,get:function(){return u.RulerControl}}),Object.defineProperty(t,"SearchControl",{enumerable:!0,get:function(){return u.SearchControl}}),Object.defineProperty(t,"TrafficControl",{enumerable:!0,get:function(){return u.TrafficControl}}),Object.defineProperty(t,"TypeSelector",{enumerable:!0,get:function(){return u.TypeSelector}}),Object.defineProperty(t,"ZoomControl",{enumerable:!0,get:function(){return u.ZoomControl}})}])});